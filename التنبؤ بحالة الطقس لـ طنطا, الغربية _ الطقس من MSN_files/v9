var mapControlViewData = {"isSDK":true,"namespace":"Microsoft.Maps","mapControlConfig":{"overrideRenderingMode":-1,"overrideWebGL2":-1,"maxParallelImageRequests":50,"workerCount":1,"localIdeographFontFamily":"","collisionSymbolSpacing":true,"landmarkDealsUrl":"/maps/landmarkdeals?ypid={ypid}","defaultMapType":"r","baseMapDataSourceLayersOfInterest":["LandUse","Coast","Water","BuildingFootprints","Roads","Boundaries"],"imageryCopyrightUrlFormat":"https://dev.virtualearth.net/REST/V1/Imagery/Copyright/{mkt}/{imagerySet}/{zoom}/{minLat}/{minLon}/{maxLat}/{maxLon}?output=json&dir={heading}&jsonp={callback}&jsonso={jsonso}&key={credentials}&ml={ml}&{cmnPltParam}","beV2ImageryCopyrightUrlFormat":"https://dev.virtualearth.net/REST/V1/Imagery/Copyright/{mkt}/{productId}?jsonp={callback}&jsonso={jsonso}&key={credentials}&{cmnPltParam}","copyrightMapLayers":"B,BF","logFlushIntervalInSeconds":3,"instrumentationUrl":"{origin}/fd/ls/lsp.aspx","logClientInstRequestFormatString":"<ClientInstRequest><Events>{Events}</Events></ClientInstRequest>","logClientInstEventFormatString":"<E><T>{EventType}</T><IG>{ImpressionGUID}</IG><TS>{TimeStamp}</TS><D><![CDATA[{DATA}]]></D></E>","aerialCutOffZoom":12,"locateMeViewExpirationDays":35,"locateMeHighAccuracyMeters":200,"locateMeFormCode":"S00031","bingSettingsUrl":"/account/general?ru={returnUrl}&FORM={formCode}","defaultZoomLevel":11.0,"basemapDataMinZoom":1,"basemapDataMaxZoom":22,"landmarksMinZoom":12,"landmarksMaxZoom":22,"landmarksDataSourceLayersOfInterest":["Landmark"],"serverInstrumentationUrlFormat":"{origin}/maps/instrumentation?version=V9&q={q}&feature={f}","landmarksLayerId":"Microsoft.Maps.Landmarks","landmarksVectorLayerId":"Landmark","landmarksLayerZIndex":"8050","enablePoiPrimer":true,"useOverlayQuadrants":true,"tfeDomainDynamic":"t.ssl.ak.dynamic.tiles.virtualearth.net","tfeDomainStatic":"t.ssl.ak.tiles.virtualearth.net","copyrightTermsLinkUrl":"https://www.microsoft.com/maps/assets/docs/terms.aspx","birdseyeV2MetadataUrl":"https://t.ssl.ak.tiles.virtualearth.net/tiles/cmd/BirdsEyeSceneMetaData?north={north}&south={south}&east={east}&west={west}&count=100&g=11124&dir=&ver=0","birdseyeTilesUrl":"https://t.ssl.ak.tiles.virtualearth.net/tiles/be{base4SceneId}01{birdseyeV2Quadkey}?g=11124","geoDataAPIEndpoint":"https://ak.spatial.virtualearth.net/rest/v1/data/geodata?SpatialFilter=GetBoundary({location},{lod},'{entityType}',{getAllPolygons},{getEntityMetaData},'{culture}','{userRegion}')&jsonp={callback}&$format=json&key={credentials}&{cmnPltParam}","geoDataAPISDKEndpoint":"https://sdk.virtualearth.net/geo/spatial/v1/public/Geodata?SpatialFilter=GetBoundary({location},{lod},'{entityType}',{getAllPolygons},{getEntityMetaData},'{culture}','{userRegion}')&jsonp={callback}&$format=json&key={credentials}&{cmnPltParam}","geoEntityDataAPIEndpoint":"https://ak.spatial.virtualearth.net/rest/v1/data/geodata?$filter=GetEntity({entityId}L,{lod},{getEntityMetaData},'{culture}','{userRegion}')&$format=json&key={credentials}&preferCuratedPolygons=1&{cmnPltParam}","postCodeMinLabelZoom":11,"postCodeMinPushpinZoom":14,"postCodeMaxHoverClickZoom":15,"enableClientInstrumentationIG":true,"primitivesHoverDelay":50,"maxDragonflyResourceRetry":2,"atlasEntry":"AtlasMapCoreAuto","maxTileCacheZoomLevels":3,"allowRasterMode":true,"dfKeysBeforeTilePrimer":[],"tilePrimerMaxDelay":500,"txtfit":true,"logImprov":true},"market":"en-XA","dragonflyCatalog":{"sources":{"AMLAuto":{"endpoint":"https://www.bing.com/rp/fgwXynIC1LSPT4bQdaeDy2ze6_w.br.js"},"AtlasMapCoreAuto":{"endpoint":"https://www.bing.com/rp/pOnHpYTTH8Em4qVDvlUo60xDFdo.br.js","dependencies":["AMLAuto"]},"AtlasMapControl":{"endpoint":"https://www.bing.com/rp/eM19ri4eZNFyjvHaIl4AE3vYi-o.br.js","dependencies":["AtlasMapCoreAuto","AtlasMapControlCss"]},"AtlasMapControlCss":{"endpoint":"https://r.bing.com/rb/3b/cir3,cc,nc/N8KLLNBDeY1HysOJxa9mkTz4Lb0.css?bu=BHmQAbYBfw&or=w","highContrastEndpoint":"https://r.bing.com/rb/3b/cir3,cc,nc/N8KLLNBDeY1HysOJxa9mkTz4Lb0.css?bu=BHmQAbYBfw&or=w","sourceType":"Stylesheet"},"CustomizeMap":{"endpoint":"https://www.bing.com/rp/_PWERVv0aeI1iNj2Vhbcj_g68ek.br.js","dependencies":["AtlasMapControl"]},"BingMapStyle":{"endpoint":"https://www.bing.com/rp/y6eSeGPZ1EP4ORbLAG5sLom1fTE.br.js","dependencies":["Delegates"]},"DirectionsControl":{"endpoint":"https://www.bing.com/rp/e8AebPMYwC2gehMlsSbvb8wWU_c.br.js","dependencies":["BingMapStyle","TrafficControl"]},"TrafficControl":{"endpoint":"https://www.bing.com/rp/LN28Nx8dngtHx58J5meLsIFV4Us.br.js","dependencies":["BingMapStyle","SharedControls","TrafficCss"]},"TrafficCss":{"endpoint":"https://r.bing.com/rb/3b/cir3,cc,nc/R75QeoiGrqypLomScuxxS-TyDX8.css?bu=Aq8Oqw4&or=w","sourceType":"Stylesheet"},"SDS":{"endpoint":"https://www.bing.com/rp/XzQZ8pWoEJHRYEbjSRPKn8fozOM.br.js","dependencies":["AtlasMapControl"]},"Delegates":{"endpoint":"https://www.bing.com/rp/FfXMSiwJRQab_6PlrgtYG_cmIZE.br.js","dependencies":["AtlasMapControl","PopupCss","DelegatesCss"]},"PopupCss":{"endpoint":"https://r.bing.com/rs/3b/az/cir3,cc,nc/PcbdSqtQHJiOWdmiSEOX9b-Sjqw.css?or=w","sourceType":"Stylesheet"},"DelegatesCss":{"endpoint":"https://r.bing.com/rs/3b/7e/cir3,cc,nc/uL0MRs8zSUkRdmHVfEr-RIaTOGA.css?or=w","sourceType":"Stylesheet"},"AzureMediaPlayerJs":{"endpoint":"https://www.bing.com/rp/b3aeSx3dNRHOCto1iZPvP9aspgc.br.js","dependencies":["AzureMediaPlayerCss"]},"AzureMediaPlayerCss":{"endpoint":"https://amp.azure.net/libs/amp/2.3.8/skins/amp-default/azuremediaplayer.min.css","sourceType":"Stylesheet"},"FlyoverData":{"endpoint":"https://www.bing.com/rp/RSAL049uyhhvoDvWjnDhBQuAD0s.br.js"},"MapDelayResources":{"endpoint":"https://www.bing.com/rp/VWO1EvWNyfG2s5_zc0Zr7ZvMyZU.br.js"},"SharedControls":{"endpoint":"https://www.bing.com/rp/eY67gY5OvzyyyZUeiSUt9mGTpGk.br.js","dependencies":["CommonControlsCss","TemplatingCss","MapDelayResources","AtlasMapControl","BingMapStyle"]},"CommonControlsCss":{"endpoint":"https://r.bing.com/rs/3b/fP/cir3,cc,nc/GtXIGbxEWM7jBkJm7yJtm20--QY.css?or=w","highContrastEndpoint":"https://r.bing.com/rb/3b/cir3,cc,nc/Utcqw2Wj6Bl_FBUU7lA3OCCYp90.css?bu=A9UH7wd_&or=w","sourceType":"Stylesheet"},"TemplatingCss":{"endpoint":"https://r.bing.com/rs/3b/ju/cir3,cc,nc/WHjlkC1BIOcQZ6DC1s4P8IHlWds.css?or=w","highContrastEndpoint":"https://r.bing.com/rb/3b/cir3,cc,nc/9F372d3USZGr9y0NUwgGWDH_RhE.css?bu=ArgJwAk&or=w","sourceType":"Stylesheet"},"TrafficExperiences":{"endpoint":"https://www.bing.com/rp/NevtizkwYaltg8VtHxNE0LsvS2k.br.js","dependencies":["TrafficExperiencesCss","TrafficExperiencesResources","AmdLoaderBundle","ReactBundle","DirectionsControl","TrafficControl","SharedControls","D3Bundle","MomentBundle","QRCode"]},"TrafficExperiencesCss":{"endpoint":"https://r.bing.com/rs/3b/7k/cir3,cc,nc/mRenakhG2M0cu9-51nd-s0bHTdw.css?or=w","sourceType":"Stylesheet"},"TrafficExperiencesDMCss":{"endpoint":"https://r.bing.com/rs/3b/7u/cir3,cc,nc/2rt9mo2OkxQ8ZO4VI0r0813AJk4.css?or=w","sourceType":"Stylesheet"},"TrafficExperiencesResources":{"endpoint":"https://www.bing.com/rp/1waeHww2T60a9ZPDQfHSnOdzI9I.br.js"},"ReactBundle":{"endpoint":"https://www.bing.com/rp/J5-R5Bbh0y74Ok0O98PRRBxulSA.br.js"},"QRCode":{"endpoint":"https://www.bing.com/rp/z8wYAQeGhxLiHK5IfUEDIGUCA_4.br.js"},"D3Bundle":{"endpoint":"https://www.bing.com/rp/TWfh38X69KgnFjUKQQ5Qa_KpQeU.br.js"},"MomentBundle":{"endpoint":"https://www.bing.com/rp/tQtAl3fECe8frQdPvZ-Vp1udqX4.br.js"},"AmdLoaderBundle":{"endpoint":"https://www.bing.com/rp/74vbYYtIo-NrvnMTJk68juho3ck.br.js"},"AzureMapAnimation":{"endpoint":"https://www.bing.com/rp/ZVpX5_9Lx9auEOgw8lrVWVN8B5E.br.js","dependencies":["AtlasMapControl"]}}},"globalConfigs":{"features":{"aerial":{"featureType":"Aerial","isEnabled":true},"mobileMyPlaces":{"featureType":"MobileMyPlaces"},"ordnanceSurvey":{"featureType":"OrdnanceSurvey"},"slideOutMenu":{"featureType":"SlideOutMenu"},"supportedMaps":{"featureType":"SupportedMaps"},"advertising":{"featureType":"Advertising"},"autosuggest":{"featureType":"Autosuggest","isEnabled":true,"searchBoxContainerID":"maps_sb_container","searchBoxID":"maps_sb","autoSuggestContainerID":"maps_as_container","searchBoxSubmitButtonID":"sb_form_go","autoSuggestMaxResults":5,"autoSuggestServiceHostUrlFormat":"https://{BingHostName}/api/v6/Places/AutoSuggest","autoSuggestServiceUrlFormat":"{host_url}?q={query}&appid={appid}&mv8cid={conversation_id}&mv8ig={ig}&localMapView={local_map_view}&localcircularview={user_location}&count={max_results}&structuredaddress=true&types={suggestionTypes}&histcnt={histcnt}&favcnt={favcnt}","focusInSearchBox":true,"searchTextFormat":"","sdkAutosuggestAppid":"F2DD9E3AA45F7512D9C6CA9A150CBA7F76556B81","autosuggestAppid":"D41D8CD98F00B204E9800998ECF8427E1FBE79C2","autosuggestDirectionsMaxResults":5,"autosuggestDirectionsMaxHistCount":5,"autosuggestDirectionsMaxFavCount":3,"showXSRIcons":true,"autosuggestSearchBoxMaxResults":5,"inPrivateLink":"/account/general?ru={0}&FORM=O2HV65","avoidAsBgChange":true,"showAutosuggestions":true,"disableYpidPassingForCountryISO":[]},"calendar":{"featureType":"Calendar"},"collections":{"featureType":"Collections"},"directions":{"isEnabled":true,"calculateRouteServiceUrl":"https://dev.virtualearth.net/REST/v1/Routes/{travelMode}?key={app_key}&o=json&jsonp={callback}&fi=true&errorDetail=true&{cmnPltParam}&","calculateTruckRouteServiceUrl":"https://dev.virtualearth.net/REST/v1/Routes/Truck?key={app_key}&{cmnPltParam}","applicationKey":"","maxRoutes":3,"maxDriveWaypoints":25,"maxTransitWaypoints":2,"maxWalkWaypoints":25,"unit":2,"roadShieldServiceUrlFormat":"https://ecn.dev.virtualearth.net/mapcontrol/roadshield.ashx?bucket={bucket}&shield={shield}&label={label}","enableTransitMode":true,"defaultMode":1,"optimize":2,"routeLayerZIndex":9100,"maxViaPoints":10,"enablePredictiveRouting":true,"specialAttributionLink":"www.thetrainline.com","enableUpdateDirectionsOnSelection":true,"enableFocusToWaypointOnAddClick":true,"transitModeFilter":true,"enableRoadShieldIconXsr":true,"maxWalkingDistance":100,"transitOBDLEnabled":true,"enableNewDiretionsAnswerAlert":true,"distanceMatrixSecondaryKey":"DistanceMatrixSecondaryKey15June2023","enableBestModeItineraryGroups":true,"transitAppUrl":"https://bingapp.microsoft.com/bing?adjust=12h33w2p_12xos2n1","shortURLServiceUrl":"https://www.bing.com/maps/bingshort/{action}","transitOneServiceUrl":"https://www.bing.com/maps/transitlines?setmkt={market}&cp={lat},{long}&activityid={activityid}","enableTransitAppParse":true,"minZoomLevelToShowNearbyTransitLines":22,"transitMobileUpsellTextOption":2,"nearbyTransitLinesBounds":[],"fullBackgroundTransitTypes":[],"defaultBackgroundColor":"","transitTypeToStyleIdMappings":{},"overridedStyleIdForSpecialLines":{},"supportedFormCodesForNearbyTransitLines":[]},"feedback":{"featureType":"Feedback"},"flyover":{"featureType":"Flyover"},"labels":{"featureType":"Labels","isEnabled":true,"useSegoeFontStack":true,"nonItalicLabelLanguages":"zh,ja","iconTextYAdjust":0.05},"landmarks3D":{"featureType":"Landmarks3D","isEnabled":true,"backendUrlFormat":"{origin}/maps/landmark3d?ypid={ypid}","useBackend":true,"iconOffsetDefault":[-20.0,-28.0],"iconOffsetPremium":[-44.0,2.0],"popupOffsetDefault":[9.0,-44.5],"popupOffsetPremium":[-8.0,-24.0],"defaultIconResource":"/rp/2PHa2yDQOlYOXYRrjcHGGR2k5NA.svg","hoverIconResource":"/rp/anVkO2HlnUQC6DFZn_GFhiYJwWQ.svg","shareLinkFormat":"{origin}/maps/?cp={latitude}~{longitude}&lmk3d={props}","enableShare":true},"map3D":{"featureType":"Map3D","isEnabled":true,"decoderWasmResource":"https://r.bing.com/rs/4S/30/c/Md1q-PaERBBIG77WT5mXNcTTQ14.wasm?or=w","basisWasmResource":"https://r.bing.com/rs/4S/3a/c/dbmRgCM0i7kfKe0mArVEA3GRm7Q.wasm?or=w","isFlyoverButtonEnabledIn3D":true,"gpuClassificationOverride":"-1","isImmersiveViewEnabled":true,"isFlyoverInterruptible":true,"fetchWorkerCount":4,"decodeWorkerCount":4,"dracoDecoderWasmResource":"https://r.bing.com/rs/4S/3k/c/sEgjVHTL8J7zXlhhp0p0f0vvP6E.wasm?or=w","modelTileFormat":"V4","alwaysRedirect":true,"isSceneOptimizerEnabled":true,"isFocusTrapEnabled":true,"networkMockFormatUrl":"","isAutomaticLabellingEnabled":true,"fetchWorkerJsResource":"/maps/3d/dsZ7nLSJFaaXepMJ4dMP_dvDq4c.js?rmsfb=map3d-fetchworker","decodeWorkerJsResource":"/maps/3d/ApJ0us2G3h-CQWH4IS7HkIwJLBQ.js?rmsfb=map3d-decodeworker","basisTranscoderJsResource":"/maps/3d/FS5nU4dX8EWhRaQAmI9zNMRalqY.js?rmsfb=map3d-basis-transcoder","dracoDecoderJsResource":"/maps/3d/8ilDm49m6Zk_iTGKs2S9EJKQEVQ.js?rmsfb=map3d-draco-decoder","isDarkModeEnabled":true,"isRichCardContentEnabled":true,"imagePreviewUrlFormat":"/images/search?view=detailV2&mediaurl={mediaUrl}&expw={w}&exph={h}&cbid={cbid}&cbn=local&idpp=local&thid={thid}&ypid={ypid}&useBFPR={bfpr}&eeptype={eeptype}&dataGroup={dg}&PhotoGroupName={groupName}&PageTag={pt}&selectedIndex={index}&id={id}&noidpclose={noclose}&mode={mode}","saturation":1.08,"isGlobalWaterRoughnessEnabled":true},"richMapsInfobox":{"featureType":"RichMapsInfobox"},"layerManager":{"featureType":"LayerManager"},"localGuide":{"featureType":"LocalGuide"},"localSearch":{"featureType":"LocalSearch"},"mapDelay":{"featureType":"MapDelay","isEnabled":true,"reverseGeocodeRequestUrlFormat":"https://dev.virtualearth.net/REST/v1/Locations/{latitude},{longitude}?o=json&jsonp={callback}&key={session_key}&includeEntityTypes={includeEntityTypes}&inclnb={neighborhood}&incl={incl}&{cmnPltParam}","geocodeRequestUrlFormat":"https://dev.virtualearth.net/REST/v1/Locations/?q={query}&o=json&jsonp={callback}&key={session_key}&maxResults={maxResults}&userMapView={userMapView}&inclnb={neighborhood}&incl={incl}&{cmnPltParam}","geolocationTimeout":10000,"geolocationMaxAge":300000,"boundingBoxRequestUrlFormat":"https://dev.virtualearth.net/REST/v1/Locations?key={session_key}&output=json&jsonp={callback}&query={query}&{cmnPltParam}","enableCopyLinkInContextMenu":true,"enableAutoCopyToClipboard":true,"devParamsList":[]},"mobileMapShell":{"featureType":"MobileMapShell"},"notification":{"featureType":"Notification"},"optIn":{"featureType":"OptIn"},"performance":{"featureType":"Performance","isEnabled":true},"print":{"featureType":"Print"},"sharing":{"featureType":"Sharing","isEnabled":true,"supportedSchemas":{"1":{"version":1,"supportedFeatures":["TaskFramework","CompositeMapMode","Traffic","LocalListing","LocalDetails","Collections","Directions","Streetside","TransitStop","NearbyTransit","TransitLine","Feedback","MapsPlus"]},"2":{"version":2,"supportedFeatures":["CompositeMapMode","Streetside","TaskFramework","LocalListing","LocalDetails","Traffic","Collections","Directions","TransitStop","NearbyTransit","TransitLine","ShareImage","ItineraryDetails","MyContributions","MapsPlus"]}},"currentProtocolVersion":2,"currentSchemaVersion":2,"readSchemaVersion":2,"defaultSchemaVersion":1,"serviceEndpoint":"maps/permalink","shellPath":"maps","directionsShellPath":"maps","canonicalPath":"https://www.bing.com/maps","formCode":"S00027","shorteningServiceUrl":"","numAutoSharedCards":10,"enableMultipleCardSharing":true,"setFlightFeatures":[],"landingPageChangeParameter":"lpchange","enabledTasksToRedirect":["LocalDetails","PolygonEntityDetails","Directions","LocalListing","Collections","ItineraryDetails","ItineraryListings"],"embedPageUrl":"/maps/embed-a-map?src=SHELL&cp={0}~{1}&lvl={2}&form=LMLTEW","facebookShareUrl":"https://www.facebook.com/dialog/share?app_id=2249142638525661&href={url}&redirect_uri={facebookpage}&display=popup","twitterShareUrl":"https://twitter.com/intent/tweet?text={text}&url={url}&related={related}","facebookRedirectUrl":"https://www.facebook.com","mapSnippetUrl":"/maps/geoplat/REST/v1/Imagery/Map/Road","shareImgWidth":600,"shareImgHeight":315,"shareImgMargin":2,"shareImgMarginFill":"white","shareImgDetailPushpinType":"176","shareImgListPushpinType":"163","noIndexParams":["mkt","setmkt","setlang","q"],"sharingOSEnvironment":"https://ObjectStoreBingFD.Prod.Europe.binginternal.com:443/sds","sharingOSNamespace":"Maps","sharingOSTimeout":3000,"sharingOSTable":"SharingProd","clientCert":"objectstore-snr","isEnableSocialSharing":true,"disableSharingLargeBoundingBox":{"north":76.61365,"east":179.28311,"south":44.456196,"west":21.959993},"disableSharingBoundingBoxes":[{"north":52.42157,"east":40.592808,"south":44.456196,"west":21.959993},{"north":56.304985,"east":32.993397,"south":51.248882,"west":22.995836},{"north":71.36265,"east":48.375496,"south":47.145973,"west":28.098288},{"north":71.93861,"east":60.916782,"south":50.991005,"west":48.375496},{"north":76.61365,"east":179.28311,"south":54.059387,"west":60.916782}],"disableLoadingRUBRegion":true,"disableObjectStoreWrite":true},"streetside":{"featureType":"Streetside"},"taskBar":{"featureType":"TaskBar"},"taskFramework":{"featureType":"TaskFramework"},"trafficControl":{"featureType":"TrafficControl","isEnabled":true,"defaultTrafficLayerOpacity":1.0},"traffic":{"trafficLayerZIndex":3000,"incidentsUrlFormat":"https://dev.virtualearth.net/Rest/v1/Traffic/Incidents/{bounds}/?severity={sev}&key={credentials}&o=json&jsonp={callback}&{cmnPltParam}&includeJamcidents=true","incidentsLayerZIndex":9500,"incidentsLayerRefreshInterval":180000,"minZoomLevelToShowIncidents":10,"maxZoomForSevereIncidentsOnly":10,"minZoomForMinorIncidents":11,"minZoomForLowImpactIncidents":11,"minZoomForAllCameras":12,"minZoomForModerateIncidents":10,"minZoomForJamcidents":11,"cameraByLocationUrlFormat":"https://dev.virtualearth.net/REST/v1/Traffic/Incidents/{bounds}/?key={credentials}&o=json&jsonp={callback}&includeItems=cameras&{cmnPltParam}","cameraUrlFormat":"https://ecn.dev.virtualearth.net{imageUrl}&key={credentials}&{cmnPltParam}&animated=true","trafficTileCacheDuration":180000,"cameraAnimationEnabled":true,"cameraAnimationAutoPlay":true,"useAlertCSeverity":true,"featureType":"Traffic","isEnabled":true},"trafficExperiences":{"featureType":"TrafficExperiences","isEnabled":true,"trafficNewsConfigs":{"trafficNewsService":{"endpoint":"https://api.msn.com/","trafficNewsContentApi":"msn/Feed/me","defaultQueryString":"traffic","newsNumberOneTime":"40","responseSchema":"compositecard","contentType":"article,video,slideshow","ocid":"windows-windowshp-feeds","timeOut":"5000","applyQuerySuffix":true,"fdHead":"","queryType":"myfeed","query":"traffic","apiKey":"0QfOX3Vn51YCzitbLaRkTTBadtWpgTN8NZLW0C1SEM","expVersion":"0"},"newsButtonTitle":"newsandevents"},"mapControlConfigs":{"hideIncidentsOnRouteDrawn":true,"hideCamerasOnRouteDrawn":true},"trafficTimesConfigs":{"endpoint":"https://bm-tfe-dbhkf3hzdbfhgqbj.z01.azurefd.net/api/traffic/status?center={location}&culture={culture}&traceid={traceId}&appid={appId}&code=Ku8AKFZLoL%2FSdrOef6MjtUCE2sFUughu7w22rOWpmnz%2BZvBtk%2FYpwPC902HH5XK9i1UE3lUtaC8E693C9yZsKanUS9COz%2FmtcU3jtKdK9gs%3D&include=traffictimes&size=300x146","isEnabled":true},"trafficInsightsConfigs":{"insightsBaseUrl":"https://services.bingapis.com/mapstraffic-mapgrowth/api/v1/trafficinsight?latitude={latitude}&longitude={longitude}&traceid={traceId}&ocid=trf-landing","insightsServiceBaseUrl":"/traffic/insights/getInsights?latitude={latitude}&longitude={longitude}&traceid={traceId}&ocid={ocid}&market={market}","msnWeatherBaseUrl":"https://www.msn.com/{market}/weather/forecast/in-{city}?loc={loc}","aiPredictionUxVersion":4,"routeInsightsServiceBaseUrl":"/traffic/insights/getInsights?latitude={latitude}&longitude={longitude}&traceid={traceId}&ocid={ocid}&market={market}&IsRouteBased=true&tolatitude={toLatitude}&tolongitude={toLongitude}"},"myRoutesConfigs":{"isEnabled":true,"isCustomRoutesEnabled":true,"isRedesignLayout":true,"commuteMobileUpsellConfigs":{"redirectURL":"https://www.bing.com/maps/cmur?guid={guid}&ocid={ocid}&msgtype={msgtype}","upsellType":1,"upsellMessageType":2,"modalCommuteImageUrl":"https://assets.msn.com/staticsb/statics/latest/traffic/localizedMobileUpsell/CarouselImageCommute.png","modalNotificationImageUrl":"https://assets.msn.com/staticsb/statics/latest/traffic/localizedMobileUpsell/CarouselImageTraffic.png","commuteAppImageUrl":"https://assets.msn.com/staticsb/statics/latest/traffic/localizedMobileUpsell/CommuteMobileUpsellGraphic.png"},"isAlternateRouteEnabled":true},"eventsConfigs":{"eventsBaseUrl":"https://api.msn.com/traffic/events?apikey={apiKey}&ocid={ocid}&market={market}&latitude={latitude}&longitude={longitude}"},"sharedConfigs":{"ocid":"bing-trafficexp","apiKey":"QCxB8CZlbn4j3g9zhZYjGXxMdirsxn6l07aZr2sxWM"},"trafficProfileConfigs":{"trafficSegmentUrl":"/cloudgraph/commute/getprofile?fdhead={fdhead}&ocid={ocid}&apikey={apiKey}","fdHead":"prg-1sw-myroutes,1s-commute-nocalc","actionApiUrl":"/cloudgraph/commute/myroutesaction?fdhead={fdhead}&ocid={ocid}&apikey={apiKey}&{filter}&commutefeat1=1","commuteHoursUrl":"/cloudgraph/commute/commutehours?fdhead={fdhead}&ocid={ocid}&apikey={apiKey}&commutefeat1=1"},"destinationsConfigs":{},"dashboardConfigs":{"minWidth":946,"bingDirectionsBaseUrl":"https://www.bing.com/maps/directions?rtp={rtp}&av={av}&mode=d&trffeatures=clpdash"},"trafficStatusConfigs":{"endpoint":"https://bm-tfe-dbhkf3hzdbfhgqbj.z01.azurefd.net/api/traffic/status?center={location}&culture={culture}&traceid={traceId}&appid={appId}&code=Ku8AKFZLoL%2FSdrOef6MjtUCE2sFUughu7w22rOWpmnz%2BZvBtk%2FYpwPC902HH5XK9i1UE3lUtaC8E693C9yZsKanUS9COz%2FmtcU3jtKdK9gs%3D&include={include}&size=300x146&incidentsExBBox={incidentsExBBox}&includeJamcidents=true&includeJamcidentsEx=true"}},"transit":{"featureType":"Transit","isEnabled":true,"transitStopRequestFormat":"https://dev.virtualearth.net/REST/v1/Transit/Schedules/Stop?{version}&stopId={stopId}&dt={month}/{day}/{year}%20{hour}:{min}:{sec}&key={credentials}&o=json&jsonp={callback}&{cmnPltParam}","transitLineRequestFormat":"https://dev.virtualearth.net/REST/v1/Transit/lines/{stoplat},{stoplong}?ln={linename}&dist={dist}&&dt={month}/{day}/{year}%20{hour}:{min}:{sec}&key={credentials}&o=json&jsonp={callback}&{cmnPltParam}","nearbyTransitStopRequestFormat":"https://dev.virtualearth.net/REST/v1/Transit/Stops/{location}?span={span}&dt={month}/{day}/{year}%20{hour}:{min}:{sec}&key={credentials}&o=json&jsonp={callback}&{cmnPltParam}","nearbyStopSpan":0.5,"unit":2,"nearbyStopMaxShown":10,"transitOBDLEnabled":true},"travel":{"featureType":"Travel","isEnabled":true,"walkingDistanceThreshold":805,"walkingTimeThreshold":900,"useRecoCarousel":true,"recommendationModules":["WhatToDo","WhatToDoOpalAction","EatAndDrink","EatAndDrinkOpalAction","EatAndDrinkOpalScenario","WhereToStay","WhereToStayOpalAction","Events"],"enableInfoBox":true,"itineraryDefaultCardWidth":464,"itineraryWideCardWidth":732,"minWideCardWidth":1550,"itineraryUrl":"/local/itinerary?q={0}&itinid={1}&sq={2}"},"birdseye":{"featureType":"Birdseye","isEnabled":true},"mapsPlus":{"featureType":"MapsPlus"},"xsr":{"featureType":"Xsr","isEnabled":true,"styleUrlBase":"https://{tfeDomainDynamic}/comp/stl","styleEntryUrlFormat":"{urlbase}?mssetbv={stlVersion}&og={og}","catMapUrlFormat":"{urlbase}?ctpv={ctpVersion}&og={og}","sharedStyleUrlFormat":"{urlbase}?ods=mvt&sharedcs=1&v={stlVersion}&og={og}","coreStyleUrlFormat":"{urlbase}?ods=mvt&cs={templateName}&v={stlVersion}&og={og}&culture={lang}","imageUrlFormat":"{urlbase}?ods=mvt&i={imageId}&ig={groupId}&culture={lang}&if={imageFamily}&v={stlVersion}&og={og}","orgImageUrlFormat":"{urlbase}?ods=mvt&oi={orgId}&v={stlVersion}","shieldBucketImageUrlFormat":"{urlbase}?ods=mvt&si={shieldId}&if={imageFamily}&v={stlVersion}","shieldAdminImageUrlFormat":"{urlbase}?ods=mvt&sa={shieldId}&if={imageFamily}&v={stlVersion}","renderTextInVectorImages":true,"iconOversample":2,"searchInvertsColorVersion":"xsr823","xsrVersionMap":{"xsr822":"8.1.0.3131","xsr823":"8.1.0.3171"}}},"dynamicProperties":{"fdSessionID":"01B28BE646706F512ABA9DB747726E69","origin":"https://www.bing.com","market":"en-XA","sessionKey":"AnnOHDX-LCThQhLcvvBPT2y2GLdNXYtTefaOC5Bv-XHSNpKykNm8I4UBdPwwJTWF","impressionGuid":"2ACB6549D4164F7092C4B4CBB0D52682","mapsIG":"2ACB6549D4164F7092C4B4CBB0D52682","clientId":"212C8E78607967AC2B489BEC61056678","location":"","reverseIPLocation":"30.059099197387695,31.113300323486328","reverseIPPlaceType":"PostalCode","marketLocation":"47.603569,-122.329453","clientIP":"2c0f:fc88:4027:1b1d:f6:7240:5ae:e6bc","uiLanguage":"en-US","userRegion":"eg","isGeopolUserRegion":true,"cultureData":{"numberDecimalSeparator":".","shortTimePattern":"h:mm tt","timeSeparator":":","amDesignator":"AM","pmDesignator":"PM","shortDatePattern":"M/d/yyyy","longDatePattern":"dddd, MMMM d, yyyy","yearMonthPattern":"MMMM yyyy","weekMonthDayPattern":"ddd, MMM d","dateSeparator":"/","firstDayOfWeek":"0","monthNames":["January","February","March","April","May","June","July","August","September","October","November","December",""],"monthGenitiveNames":["January","February","March","April","May","June","July","August","September","October","November","December",""],"abbreviatedMonthNames":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"abbreviatedMonthGenitiveNames":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"dayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"abbreviatedDayNames":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"shortestDayNames":["S","M","T","W","T","F","S"]},"appId":"E18E19EF-764F-41A9-B53E-6E98AE519695","traceId":"68aa445f234746a88d5b1a37d49c0e01","bingRequestDomain":"www.bing.com","compositionHandlerGenerationId":"2715","streetsideImageryGenerationId":"15334","streetsideMetadataGenerationId":"15334","muidHash":"92"},"isSDK":true,"isJSEventScaleAware":true,"stlVersion":"9.41","ctpVersion":5,"tileSourceParam":"","platformCommonParam":"ur=eg&c=en-US&setfeatures=","excelsiorBaseUrl":"","trafficStyleMenu2":true,"trafficProxy":true},"callbackOnLoad":"loadMapV9","dragonflySourceKeys":["AtlasMapControl"]};
var HighContrastMap;(function(n){function i(){var n="none",t=window.matchMedia;return typeof t=="undefined"?n:(t("(forced-colors: active) and (prefers-color-scheme: dark)").matches?n="dark":t("(forced-colors: active) and (prefers-color-scheme: light)").matches?n="light":t("(forced-colors: active)").matches?n=t("(prefers-color-scheme: light)").matches?"light":"dark":t("(inverted-colors: inverted)").matches&&(n="dark"),n)}function t(t,i,r,u){var e=n.highContrastMode==="light"?u:r,f,o;return typeof URL=="undefined"||n.highContrastMode==="none"||!i||!e?t:(f=new URL(t),o=new RegExp("(\\/)".concat(i,"([\\/?])")),f.pathname=f.pathname.replace(o,"$1".concat(e,"$2")),f.href)}function r(n,i,r,u){var o='img[data-sig="'.concat(n,'"]'),f=document.querySelector(o),e;f&&(e=t(f.src,i,r,u),e!==f.src&&(f.src=e))}n.highContrastMode=i();n.getImageryUrl=t;n.updateMapImage=r})(HighContrastMap||(HighContrastMap={})),function(){var t,n,c,v,et,f,e,l,u,w,st,lt,at,k,d,y,vt,yt,pt,p,g,kt,nt,tt,it,dt;try{"use strict";var h=this&&this.__assign||function(){return h=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},h.apply(this,arguments)},rt=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ut=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},s=window;s.Microsoft=s.Microsoft||{};t=s.$MicrosoftMaps8=s.Microsoft.Maps=s.Microsoft.Maps||{};t.toString=function(){return"Microsoft.Maps"};n=t.globalConfig=mapControlViewData.globalConfigs;t.dragonflyCatalog=mapControlViewData.dragonflyCatalog;var r=t.Internal=t.Internal||{},i=r.coreConfig=mapControlViewData.mapControlConfig,ft=function(){function u(t){this._clientInstEventFormatString=i.logClientInstEventFormatString.replace("{EventType}",t);this.igUpdatedPromise=new a;u._timerInterval=i.logFlushIntervalInSeconds?i.logFlushIntervalInSeconds*1e3:1e3;u._instrumentationUrl=i.instrumentationUrl.replace("{origin}",n.dynamicProperties.origin)}return u.prototype.logObject=function(t,i){var r,f;t.overlay||(r=u.getOverlayType(),r&&t&&(t.overlay=r));f=this._clientInstEventFormatString.replace("{TimeStamp}",Date.now().toString(10)).replace("{ImpressionGUID}",i||n.dynamicProperties.impressionGuid).replace("{DATA}",JSON.stringify(t));u.logList.push(f);this.startTimer()},u.prototype.flush=function(){u._timerToken&&(window.clearTimeout(u._timerToken),u._timerToken=0);this._postInstrumentationData()},u.prototype.clear=function(){u.logList.length=0},u.prototype.startTimer=function(){var n=this;u._timerToken||(u._timerToken=o.setTimeout(function(){n.processTimerEvent()},u._timerInterval))},u.prototype.processTimerEvent=function(){u._timerToken=0;this.flush()},u.prototype.logSnrPageNameForMapControl=function(t,f){var c=this,s;if(f){if(u._igUpdateRequested)return;u._igUpdateRequested=!0}if(n.enableInstrumentation||n.enableErrorInstrumentation){var e=n.dynamicProperties,o=i.serverInstrumentationUrlFormat.replace("{origin}",e.origin).replace("{q}","").replace("{f}",t),h="MONITR";window.location.href.toUpperCase().indexOf(h)>-1&&(o+="&FORM="+h);s=e.sdkCustomerScenarioId;s&&(o+="&sid=".concat(s));r.Network.downloadGeneric(o,"pagename",function(t){var u,i,r;f&&(typeof t=="string"&&(u=new DOMParser,t=u.parseFromString(t,"text/html")),typeof t=="object"&&(i=t.getElementById("ImpressionGuid"),r=i===null||i===void 0?void 0:i.getAttribute("name"),r&&(e.mapsIG=r,n.isMapsAnswer||(e.impressionGuid=r),c.igUpdatedPromise.resolve())))},f?"document":null)}else this.igUpdatedPromise.resolve()},u.prototype._postInstrumentationData=function(){if(u.logList.length>0){var n=i.logClientInstRequestFormatString.replace("{Events}",u.logList.join(""));try{navigator.sendBeacon(u._instrumentationUrl,n);this.clear()}catch(t){this.startTimer()}}},u.getOverlayType=function(){var t;return(t=n.dynamicProperties.overlayType)!==null&&t!==void 0?t:""},u.SendInstrumentationToServer=function(t,f){var e,o,s,h;n.enableInstrumentation&&f&&(e=i.serverInstrumentationUrlFormat.replace("{origin}",n.dynamicProperties.origin).replace("{q}",t?t:"").replace("{f}",f),o="MONITR",window.location.href.toUpperCase().indexOf(o)>-1&&(e+="&FORM="+o),s=u.getOverlayType(),s&&(e+="&OVRLY="+s),h=n.dynamicProperties.mapsIG,h&&(e+="&MCIG="+h),r.Network&&r.Network.downloadGeneric(e,"srvinst",function(n){u._logMapPageView(n)},null,null,null))},u._logMapPageView=function(n){var f=t.globalConfig.dynamicProperties,e=t.Internal.Helper,i,r,u,o,s;e&&(i=e._tryParsingWithDOMParser(n),i&&i.length>0&&(r=i.select("#ImpressionGuid"),u=i.select("#PageName"),r.length===1&&u.length===1&&f.mapsIG&&f.mapsIG!==r.get_attr("name")&&u.get_attr("name")!=="Page.Maps.OneMapOverlay"&&(o=t.logger,s={feature:"MPV",action:"C",data:{P:u.get_attr("name"),CIG:r.get_attr("name")},T:"CI.ClientClick",FID:"CI"},o.logObject(s,f.mapsIG))))},u.logList=[],u._igUpdateRequested=!1,u._timerToken=0,u}(),a=function(){function n(){var n=this;this._promise=new Promise(function(t,i){n.resolve=t;n.reject=i})}return n.prototype.then=function(n,t){return this._promise.then(n,t)},n}(),ni=function(i){function r(){var n=i.call(this,"Event.ClientInst")||this;return n._nonJSExceptionCount=0,n._jsExceptionCount=0,n.maxErrorCountToLog=16,n.igUpdatedPromise=new a,t.errorLogs=t.errorLogs||[],n}return rt(r,i),r.prototype.logObject=function(t,r,u){n.enableInstrumentation&&(t.T||(t.T=u?"CI.MapsAction":"CI.ClientClick"),t.FID=t.FID?t.FID:"CI",i.prototype.logObject.call(this,t,r))},r.prototype.logCriticalError=function(t,i,r,u){var c,l,f,o,s,e,h;if(r===void 0&&(r=!0),!n.dynamicProperties.likelyBot&&navigator.userAgent){if(f=i&&i.data&&i.data.url,f=f&&f.toLowerCase(),n.testHooksAllowed||(n.enableInstrumentation||n.enableErrorInstrumentation)&&(!f||f.indexOf("virtualearth.net")>-1||f.indexOf("bing.com")>-1||f.indexOf("microsoft.com")>-1||f.indexOf("live.com")>-1||f.indexOf("bingapis.com")>-1))if(f&&(i.data.url=this._cleanUrl(f)),o=(l=(c=t===null||t===void 0?void 0:t.stack)!==null&&c!==void 0?c:f)!==null&&l!==void 0?l:"",i&&i.data&&i.data.stack&&(o+=";"+i.data.stack),(n.isMapsVertical||n.isMapsAnswer)&&r&&(o+=";"+window.location.href),s=!t&&f,e={T:s?"CI.Warning":"CI.Error",feature:"SDK",action:i?i.action:"",data:i?i.data:"",partner:"Maps",horizontal:"SDK",Name:s?"MapsNetwork":"JSError",Text:"",Stack:o},n.isMapsVertical?e.horizontal="Vertical":n.isMapsAnswer&&(e.horizontal="MapSerp"),t?e.Text=typeof t=="string"?t:t.message:i&&(e.Text=this._serializeData(i.data)),h="handledEx:",t?h="unhandledEx:":f&&(h="network:"),e.Text="v9;".concat(e.horizontal,";").concat(h+e.Text),(n.testHooksAllowed||!n.isSDK)&&Microsoft.Maps.errorLogs.push(e),n.testHooksAllowed&&(console.log("".concat(Date.now()-performance.timeOrigin," - Error:")),s&&f?console.log("Network error - status:".concat(i.data.httpStatus,", url: ").concat(f)):(console.log("Error - message:".concat(e.Text)),console.log("Error - stack:".concat(e.Stack))),console.log("")),t){if(n.isSDK||typeof _G=="undefined"||u?++this._jsExceptionCount<=this.maxErrorCountToLog&&this.logObject(e,n.dynamicProperties.mapsIG):t.message=e.Text,!u)throw t;}else++this._nonJSExceptionCount<=this.maxErrorCountToLog&&(this.logObject(e,n.dynamicProperties.mapsIG),this.flush());if(t&&!u)throw t;}},r.prototype._serializeData=function(n){var i="",r,u,t;if(n)if(typeof n=="object")for(r=0,u=Object.keys(n);r<u.length;r++)t=u[r],n[t]!==""&&t.toLowerCase()!=="stack"&&(i=i+t+":"+(typeof n[t]=="object"?JSON.stringify(n[t]):n[t])+", ");else i=n;return i},r.prototype._cleanUrl=function(n){return n&&(n=n.replace(/(\/|\/be|\/hs)[0123]+(\?|\.json\?)/gi,"/{quadkey}?").replace(/key=(\w|-)+/gi,"key={credentials}").replace(/auth=(\w|-)+/gi,"auth={credentials}").replace(/jsonso=\w+/gi,"jsonso={jsonso}").replace(/jsonp=(\w|\.)+/gi,"jsonp={jsonp}").replace(/t[01](\.|-)/gi,"{subdomain}").replace(/mkt=\w{2}-\w{2}/gi,"mkt={mkt}").replace(/culture=\w{2}-\w{2}/gi,"culture={culture}").replace(/og=\d+/gi,"og={og}").replace(/ur=\w{2}/gi,"ur={ur}").replace(/idx=\d+/gi,"idx={idx}").replace(/eid=\d+/gi,"eid={eid}").replace(/copyright\/\w{2}-\w{2}\/\w+(\/(\d|\.|-)+){5}\?/gi,"copyright/{Copyright}?").replace(/locations\/(\d |\.|,|-)+\?/gi,"location/{locations}?")),n},r}(ft),o;(function(n){function t(n,t){return typeof n=="function"?function(){try{return n.apply(null,t)}catch(i){if(window.Microsoft&&Microsoft.Maps)Microsoft.Maps.logger.logCriticalError(i);else throw i;}}:n}function r(n,i){for(var f,u=[],r=2;r<arguments.length;r++)u[r-2]=arguments[r];return f=t(n,u),window.setTimeout(f,i)}function u(r){for(var e,f=[],u=1;u<arguments.length;u++)f[u-1]=arguments[u];i?(e=t(r,f),Promise.resolve().then(e)):n.setTimeout.apply(n,ut([r,0],f,!1))}function f(n,i){for(var f,u=[],r=2;r<arguments.length;r++)u[r-2]=arguments[r];return f=t(n,u),window.setInterval(f,i)}var i=typeof Promise!="undefined"&&Promise.toString().indexOf("[native code]")!==-1;n.setTimeout=r;n.setAsync=u;n.setInterval=f})(o||(o={})),function(n){function i(n){return"_$Maps_"+n+"_expiration"}function r(){return!!t}function u(n){var r,u,f,e;return t?(r=t.getItem(n),r&&(u=i(n),f=t.getItem(u),f&&(e=parseInt(f),Date.now()>e&&(r=null,t.removeItem(n),t.removeItem(u)))),r):null}function f(n,r,u){t&&((!isFinite(u)||u>0)&&t.setItem(n,r),u>0&&t.setItem(i(n),(Date.now()+u*864e5).toString()))}function e(n){if(t){var r=i(n);t.removeItem(n);t.removeItem(r)}}var t=function(){var n,t,i;try{return n=(new Date).toString(),t=window.localStorage,t.setItem(n,n),i=t.getItem(n)===n,t.removeItem(n),i&&t}catch(r){}return undefined}();n.isEnabled=r;n.getItem=u;n.setItem=f;n.removeItem=e}(c||(c={})),function(n){function f(n,f){t&&sj_cook.set&&sj_cook.set(i,n,f,!0,u,r)}function e(n){return t&&sj_cook.get?sj_cook.get(i,n):null}var t=typeof sj_cook!="undefined",i="mapc",r=129600,u="/maps";n.setCookie=f;n.getCookie=e}(v||(v={})),function(n){function e(){return r={fvWeightedThreshold:1.35,pvWeightedThreshold:.38,weightsForAppleAndOtherFastGpu:2.7,mktWeights:{"en-us":1,"ja-jp":1.04,"en-gb":1.12,"de-de":1.21,"fr-fr":1.09,"en-ww":.95,"en-in":.9,"en-ca":1.15,"en-au":1.07,"pt-br":.97,"es-es":1.15,"it-it":1.11,"nl-nl":1.19,"pl-pl":1.16,"es-mx":.9,"es-xl":.88,"en-xa":.81,"en-id":.83,"zh-tw":1.36,"en-ph":.86,"nl-be":1.18,"sv-se":1.26,"de-ch":1.23,"de-at":1.14,"ko-kr":1.48,"pt-pt":1.13,"tr-tr":.82,"es-ar":.88,"fr-ca":1.19,"en-my":.95,"en-za":.81,"fr-be":1.15,"en-nz":1,"nb-no":1.23,"en-sg":.98,"es-cl":.92,"en-ie":1.05,"da-dk":1.21,"fi-fi":1.19,"ar-sa":.66,"ru-ru":.92,"fr-ch":1.19,"zh-hk":1.32,"es-us":.87,"ar-eg":.65,"ar-xa":.64,"ar-ae":.77},gpurWeights:{"-ke1csa":1.21,"-fgfqf2":1,dtpw4v:1.14,"-epl5g2":.87,"-o5n9cn":.91,"-urd3t6":.53,"-7n9ywj":.69,"485n1d":.46,"-bd4mmp":.94,l3idwp:.91,"-ynpst6":1.01,kw12oe:1,v4odri:.64,"-r36ms":.71,i5vnte:1.41,"-cudc9s":.64,rzpnny:.86,fy90qb:1.04,"-oy8gj6":1.38,"-ud7pzl":.58,"-5pbaid":.52,g5iqvb:.5,"-4p2mwz":1.02,rmb19n:.7,d0k0uf:.58,"-5xorlj":.72,"-xvpe7m":.67,rs7uy5:.81,"40e8gy":.64,"-wla8er":.45,w62xcl:1.28,"-wxls0g":.45,"-tuzakf":1.15,to3tv7:1.03,fplv1x:1.05,w4dmmo:1.24,yuj1ho:.57,"-ftbpe8":.98,"-p7y3x3":.84,"-pigngx":.37,f6kb36:1.33,f13uyv:1.2,"2ldc6l":.79,qpqwgk:1.16,"-abq31m":1.3,"-th8zjs":.56,"-bnoc95":1.02,nokdui:.49,"-b0kh26":1.46,"-wn38gm":1.14,eyhusn:1.08,"-9c4v1n":1.18,"8jgvat":.85,"0":.32,"-o93bav":1.11,"-i3bixe":.37,"-aalchl":1.02,"-mext09":.47,"-pxxpec":.42,i7kyjb:1.33,i2t7ts:1.13,"-xpuu6z":.95,xn2nru:1.04,"-wnugog":.29,"-z0zbxm":1.86,"2y0qvz":.38,n980vm:.56,"-ry4nv6":.49,"-ao6edv":.28,"-citpp8":.83,"-xbckva":1.21,"-d3q7d2":.67,"-8s2hss":1,"-s74584":.89,"-l69p42":.94,"7v809f":.59,"2lm7hy":1.25,"-jsx0fx":1.21,"-nzk9yy":1.14,"9kj5cz":1.51,"-1bo8zi":1.14,"4a7qa2":1.11,"-gkq8sj":1.29,"3mrvro":1.22,"81y8dz":1.15,"-suf39b":1.26,"-4ve25l":1.38,"-atxtbv":1.07,"-ttsyaj":.71,"-1awntz":1.18,"-opqfjc":1,x8s3fz:1.47,unu1k0:.41,"-ex3t0v":1.04,"-x2jeut":.63,"-2l1vfw":.98,"3tkm1l":1.06,"-4o8cww":1.39,"7z0cwd":.95,"-fs23xn":1.15,"-vod0jj":1.33,"9j7e43":1.02,m9b1tc:.72,"-xep3qi":1.27,msyxz5:.38,"6egxmb":.21,c5fk4h:1.01,"-q6ajmc":.7,"-wi9f1k":.5,"-mh971z":.75,"26t1n6":.21,am4tlg:.2,y82npi:.21,etspkl:.21,"-6ii8cz":.21,uzds6:1.24,"-3wi9s":.9,"1j5l11":1.26,i2phbf:1.25,"-itw0yv":1.43,"-ctp6j0":.87,odlqb:1.2,"-g6fbl6":.71,gd0jns:.48,d7gm8v:.49},cpuWeights:{"6":1.38,"4":1,"12":1.63,"2":.7},dprWeights:{"1":1,"2":1.67}}}function o(){var e,r,n,l,v;try{var o=!1,t=void 0,s=window===null||window===void 0?void 0:window.mockDocument,h=s,i=void 0;return h||(e=c.getItem(u),e&&(i=JSON.parse(e))),i||(r=(s||document).createElement("canvas"),r.width=1,r.height=1,n=r.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}),o=!!n,n||(n=r.getContext("webgl",{failIfMajorPerformanceCaveat:!1})),l=n===null||n===void 0?void 0:n.getExtension("WEBGL_debug_renderer_info"),t=n===null||n===void 0?void 0:n.getParameter(l.UNMASKED_RENDERER_WEBGL).toLowerCase(),v=!!t,t=a(t),i={gpuRenderer:t,webgl2Supported:o},!h&&v&&c.setItem(u,JSON.stringify(i),f)),i}catch(y){return{gpuRenderer:"",webgl2Supported:!1}}}function s(n,t,i,u,f){var o=1;try{var s="intel(r) ",l="amd radeon(tm) ",a=" direct3d11",v=["swiftshader","software adapter","llvmpipe","microsoft basic render driver","mobile ".concat(s),"direct3d9ex"],y=["b43","g41","hd graphics","uhd graphics 600","hd graphics 4000","hd graphics family","hd graphics 5500","uhd graphics 605"],p=["r5 graphics"],w=["uhd graphics 630","hd graphics 630","hd graphics 530","hd graphics 4600","uhd graphics","iris(r) plus graphics","iris(r) xe graphics"],b=["vega 8 graphics"],e=function(t,i,r){return t.some(function(t){var u=i?t:"".concat(r?s:l).concat(t).concat(a);return n.indexOf(u)>-1})},k=function(){return!n||e(v,!0)||e(y,!1,!0)||e(p,!1,!1)},d=function(){return n&&(e(w,!1,!0)||e(b,!1,!1))},c=h(n,t,d,k,i,u,f);o=c>=r.fvWeightedThreshold?0:c<r.pvWeightedThreshold?2:1}catch(g){o=1}return o}function h(n,t,u,f,e,o,s){var v=Microsoft.Maps.globalConfig,h=0,a,c,l;return h=n.indexOf("apple")>-1&&o>1?r.weightsForAppleAndOtherFastGpu:r.gpurWeights[t]?r.gpurWeights[t]:u()?r.weightsForAppleAndOtherFastGpu:f()||!s?r.pvWeightedThreshold:(r.fvWeightedThreshold+r.pvWeightedThreshold)/2,a=v.dynamicProperties,i.isSlowPartner?h/=3:a&&a.likelyBot&&(h/=2),a&&(c=a.market,c=c&&c.toLowerCase(),r.mktWeights[c]&&(h*=r.mktWeights[c])),l=2,e>=12?l=12:e>=6?l=6:(e>=4||e===-1)&&(l=4),r.cpuWeights[l]&&(h*=r.cpuWeights[l]),o=o>1?2:1,r.dprWeights[o]&&(h*=r.dprWeights[o]),h}function l(n){for(var t=0,i=0;i<n.length;i++)t=(t<<5)-t+n.charCodeAt(i)|0;return t.toString(36)}function a(n){return n?(n=n.replaceAll(",",".").replaceAll(":",".").toLowerCase(),n=n.replace(/\s{2,}/g," ").replace(/d3d11-(\d+\.)+\d+/g,"d3d11").replace(/dll-(\d+\.)+\d+/g,"dll").replace(/\s\(0x\d+\w*\)/g,"")):n="-1",n}function y(n){var e=o(),a=l(e.gpuRenderer),u=e.webgl2Supported,y=typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function",b=e.gpuRenderer,k=p(n),tt=w(n),f=s(b,a,k,tt,u),d=HighContrastMap.highContrastMode,g=i.overrideHighContrast,t,h,nt,c,r;g&&(d=g===1?"dark":"light");t=0;i.allowRasterMode&&f===2?t=2:(f===1||f===2)&&(t=1);h=i.overrideRenderingMode;h!==-1&&(t=h);v.setCookie("rm",t.toString());nt=i.overrideWebGL2;switch(nt){case 1:u=!0;break;case 0:u=!1}return r=[],u?y?Microsoft.Maps.globalConfig.dynamicProperties.sessionKey||r.push("No SessionKey"):r.push("No WebAssembly"):r.push("No WebGL2"),r.length>0?(console.warn("No 3D because: ".concat(r.join(", "))),c=!1):c=!0,{renderingMode:t,deviceClassification:f,contrastMode:d,cpuCores:k,gpuRenderer:b,webgl2Supported:u,webAssemblySupported:y,gpuRendererHash:a,is3DSupported:c}}function p(n){var t,i=(t=n||window)===null||t===void 0?void 0:t.navigator;return i&&i.hardwareConcurrency>0?i.hardwareConcurrency:-1}function w(n){var t,i=(t=n||window)===null||t===void 0?void 0:t.devicePixelRatio;return i>0?i:1}var u="deviceInfo2",f=14,r=e();n.detectCapability=y;t.DeviceInfo=n.detectCapability()}(et||(et={})),function(n){function t(n,t,i){return Math.min(Math.max(n,t),i)}function i(n,i,r,u){u===void 0&&(u=256);var o=t(n,-85.05112878,85.05112878),s=t(i,-180,180),h=(s+180)/360,e=Math.sin(o*Math.PI/180),c=.5-Math.log((1+e)/(1-e))/(4*Math.PI),f=Math.pow(2,r)*u;return{x:t(h*f+.5,0,f-1),y:t(c*f+.5,0,f-1)}}function r(n,t){var i=e.degreesToRadians(t.latitude),r=e.degreesToRadians(n.latitude),o=e.degreesToRadians(t.longitude),s=e.degreesToRadians(n.longitude),h=Math.abs(i-r),c=Math.abs(o-s),u=Math.sin(h/2),f=Math.sin(c/2),l=2*Math.asin(Math.sqrt(u*u+Math.cos(r)*Math.cos(i)*f*f));return 6378137*l}function u(t,i,r){return e.log2(Math.cos(e.degreesToRadians(t))*n.C_earthCircumference/(r*i))}function f(n){var u=.675,f=7,r,a;if(n.length<15)return n;var t=n.map(function(n){return n[1]}),i=n.map(function(n){return n[0]}),e=t.sort()[Math.floor(t.length/2)],o=i.sort()[Math.floor(i.length/2)],s=t.map(function(n){return Math.abs(n-e)}),h=i.map(function(n){return Math.abs(n-o)}),c=s.sort()[Math.floor(s.length/2)],l=h.sort()[Math.floor(h.length/2)];return c===0||l===0?n:(r=n.filter(function(n){var t=u*Math.abs(n[1]-e)/c<f,i=u*Math.abs(n[0]-o)/l<f;return t&&i}),a=n.length>20?Math.ceil(n.length/10):2,n.length-r.length>a?n:r)}n.C_earthCircumference=12756274*Math.PI;n.C_radiansPerDegree=Math.PI/180;n.latlongToPixelXY=i;n.greatCircleDistance=r;n.getZoomFromMetersPerPixel=u;n.cullOutlierPositions=f}(f||(f={})),function(n){function t(t){return Math.log(t)/n.loge2}function i(t){return t*n.radiansPerDegree}n.radiansPerDegree=Math.PI/180;n.loge2=Math.log(2);n.log2=t;n.degreesToRadians=i}(e||(e={})),function(i){function u(n,t,i){i===void 0&&(i=!0);var u=typeof n=="string"?new URL(n):new URL(n.href),r=u.searchParams.get(t)||"";return i?decodeURIComponent(r):r}function e(n){for(var f=NaN,e=NaN,s=NaN,h=NaN,r,t=n.length,i=new Array(t),u=0,c,o,l;t--;)r=n[t],r&&r.length>=2&&(f=isNaN(f)?r[1]:Math.max(f,r[1]),e=isNaN(e)?r[1]:Math.min(e,r[1]),i[u++]=r[0]);if(u){for(i.length=u,i.sort(function(n,t){return n-t}),c=i[0]+360-i[u-1],o=0,t=1;t<u;t++)l=i[t]-i[t-1],l>c&&(c=l,o=t);s=i[o];h=i[(o||u)-1]}return isNaN(s)||isNaN(e)||isNaN(h)||isNaN(f)?null:[s,e,h,f]}function h(){var y,r=null,rt="data-entity",s=[],p=document.querySelectorAll("[".concat(rt,"]")),a,w,b,h,v,k,u,d,g,tt,it,c,i,t;if(p)for(a=0;a<p.length;++a)w=p[a].getAttribute(rt),w&&s.push(JSON.parse(w));if(b=s.length,b>1){for(h=[],v=0,k=s;v<k.length;v++)c=k[v],u=c.geometry,u&&u.x&&u.y&&h.push([u.x,u.y]);o=!0;h=f.cullOutlierPositions(h);r={bounds:e(h)}}else if(b===1&&s[0]){if(d="data-boundingbox",g=document.querySelector("[".concat(d,"]")),g){var ut=g.getAttribute(d),nt=ut&&JSON.parse(ut),l=nt===null||nt===void 0?void 0:nt.boundingBox;(l===null||l===void 0?void 0:l.length)>1&&(tt=l[0],it=l[1],r={bounds:e([[tt.longitude,tt.latitude],[it.longitude,it.latitude]])})}r||(c=s[0],i=c.geometry,c.geometryType===1&&i?r={center:[i.x,i.y],zoom:((y=n.features.taskFramework)===null||y===void 0?void 0:y.defaultZoomLevel)||16}:(t=i===null||i===void 0?void 0:i.bounds,(t===null||t===void 0?void 0:t.length)>=4&&(r={bounds:e([[t[1],t[0]],[t[3],t[2]]])})))}return r}function c(){for(var f,i=u(window.location.href,"ttid",!0).split(","),r=[],t=[],o=function(n){var i=parseFloat(n);isFinite(i)&&t.unshift(i)},n=0;n<i.length;n++)n%2==0?o(i[n]):(o(i[n]),t.length===2&&r.push(t),t=[]);return f=undefined,r.length>1&&(f={bounds:e(r)}),f}function s(n){var r=window.localStorage,t=r.getItem(n),u,i,f;return t&&(u="_$Maps_".concat(n,"_expiration"),i=r.getItem(u),i&&(f=parseInt(i),Date.now()>f&&(t=null))),t}function l(){var n=parseFloat(s("centerLatitude")),t=parseFloat(s("centerLongitude"));return isFinite(n)&&isFinite(t)?n+","+t:null}function a(n,t){var i,r,u;return(t===void 0&&(t=","),n&&(i=n.split(t),i.length===2&&(r=parseFloat(i[0]),u=parseFloat(i[1]),isFinite(r)&&isFinite(u))))?[u,r]:null}function v(){var s=t.DeviceInfo.renderingMode===2,i=null,f=n.dynamicProperties,e,o;return u(window.location.href,"cp",!0)&&(f.isExplicitCenterPointSet=!0),r=document.querySelector("div.nonajaxLGCardPrimer"),u(window.location.href,"cp",!0)||r?u(window.location.href,"ttid",!0)&&(i=c()):i=h(),i||(e=f.location,e&&e!=="0,0"||(e=f.reverseIPLocation,e||(o=l(),o&&(e=o))),i={center:a(e),zoom:f.zoom}),f.style!=="x"&&(i=i||{},s?(i.bearing=0,i.pitch=0):(typeof f.bearing=="number"&&(i.bearing=f.bearing),typeof f.pitch=="number"&&(i.pitch=f.pitch))),i.zoom&&s&&(i.zoom=Math.round(i.zoom)),i}function y(n,t,i,r){var u={},s={latitude:n[1],longitude:n[0]},h={latitude:n[1],longitude:n[2]},c={latitude:n[3],longitude:n[0]},l={latitude:n[3],longitude:n[2]},a={latitude:n[1],longitude:0},v={latitude:n[3],longitude:0},e={latitude:(n[3]+n[1])/2,longitude:(n[0]+n[2])/2},y=f.greatCircleDistance(s,h),p=f.greatCircleDistance(c,l),w=Math.max(y,p),b=f.greatCircleDistance(a,v),k=w/t,d=b/i,o=Math.max(k,d);return u.zoom=o!==0?f.getZoomFromMetersPerPixel(e.latitude,o,r):16,u.center=[e.longitude,e.latitude],u}function p(){var t=0,i="data-mapcardwidth",u=document.querySelector("[".concat(i,"]")),f="data-inittaskareawidth",e=document.querySelector("[".concat(f,"]")),n;return!window.history.state&&r?(n=parseInt(r.getAttribute("data-width")),isNaN(n)||(t=n)):u?(n=parseInt(u.getAttribute(i)),isNaN(n)||(t=n)):e&&(n=parseInt(e.getAttribute(f)),isNaN(n)||(t=n)),t>0&&(t+=32),t}function w(n,t,r){i.loadingView.bounds&&(i.loadingView=y(i.loadingView.bounds,n,t,r),o&&(i.loadingView.zoom-=i.zoomAdjustment))}var r,o=!1;i.zoomAdjustment=.5;i.loadingView=v();i.contentFirstPadding=p();i.updateLoadingView=w}(l||(l={})),function(n){function t(t){n.allowLogging&&!1&&console.log(t)}function i(n){var t=null,r,i,u,f;if(n)for(t=window,r=n.split("."),i=0,u=r.length;i<u;i++)if(f=r[i],t=t[f],!t){t=null;break}return t}n.allowLogging=!1;n.logData=t;n.resolveType=i}(u||(u={}));var ti="container",ii="window",ot=function(){function n(n,t,i,r){this.factoryName=n;this.factoryDef=t;this.resolver=i;this.container=r;this._className=t.className;this._params=ui(t.parameters);this._isSingleton=t.isSingleton;this._constructor=null;this._dependenciesResolved=!1;this._instance=t.instance||undefined}return n.prototype.create=function(n,t){var i,e,f;if(t===void 0&&(t=!0),n=n||{},this._instance)return this._instance;if(!this.container.isDisposed&&(this._dependenciesResolved||this.resolver.isResolved(this.factoryDef))&&!this._failed){for(this._dependenciesResolved=!0,i=[],e=this._params.length;e--;){var o=this._params[e],r=o.name,s=fi(r);if(s)i[e]=s;else if(r===ti)i[e]=this.container;else if(r===ii)i[e]=window;else if(this.container.canResolve(r)&&!n[r])i[e]=this.container.instance(r,{});else if(i[e]=n[r],!o.optional&&n[r]===undefined)throw'The parameter "'.concat(r,'" is required but was not supplied.');}if(this._constructor||(this._constructor=u.resolveType(this._className)),f=void 0,this.factoryDef.factoryType==="reference")f=this._constructor;else try{if(u.logData("create - makeObject : class ".concat(this._className)),!this._constructor)throw new Error("".concat(this._className," has no constructor"));f=ri(this._constructor,i);u.logData("create - after makeObject : args count ".concat(i.length))}catch(h){t&&this._logCreateError(h);throw h;}return f&&f.initialize&&f.initialize.apply(f,i),this._isSingleton&&(this._instance=f),f}throw Error("Failed to create ".concat(this.factoryName,": ").concat(this._lastError?this._lastError.message:""," "));},n.prototype.createAsync=function(n,t,i,r){var f=this,u;r?this.createInternal(n,t,i):(u=function(){f.createInternal(n,t,i)},o.setAsync(u))},n.prototype._logCreateError=function(n){var t=this.resolver.logger,i;t&&t.logCriticalError&&(i={feature:"Dragonfly",action:"ERR",data:{errorMessage:"Error creating ".concat(this._className)}},t.logCriticalError(n,i,!0,!0))},n.prototype.createInternal=function(n,t,i){var r=this,f=function(n){i&&i(r.factoryName,n)},e;this._instance?t&&t(this._instance,this.factoryName):this._failed?f(this._lastError):(e=function(){r._dependenciesResolved=!0;try{u.logData("createAsync - _factoryName ".concat(r.factoryName));var o=r.create(n,!1);t&&t(o,r.factoryName)}catch(e){i||r._logCreateError(e);r._failed=!0;r._lastError=e;f(e)}},this.resolver.resolve(this.factoryDef,e))},n.prototype.downloadDependency=function(n,t){var i=this,r=function(){var t=function(){u.logData("resolved factoryName ".concat(i.factoryName));n&&n()};i.resolver.resolve(i.factoryDef,t)};t?o.setAsync(function(){r()}):r()},n.prototype.getInstance=function(){return this._instance},n}();function ri(n,t){var r=Object.create(n.prototype),i=n.apply(r,t);return i&&typeof i=="object"?i:r}function ui(n){for(var u=[],i=n?n.length:0,t,r;i--;)t=n[i]+"",r=t.charAt(0)==="-",r&&(t=t.substring(1)),u[i]={name:t,optional:r};return u}function fi(n){var i=n.length,t;return i>2&&(t=n.charAt(0),t===n.charAt(i-1)&&(t==='"'||t==="'"))?n.slice(1,i-1):null}w=/Factory$/;st=function(){function n(n,t){this.config=n;this.resolver=t;this._factories={};t.setContainer(this);this._setupFactories(n.factories)}return n.prototype.instanceAsync=function(n,t,i,r,f){this._createInstance(n,i,!0,t,f,r);u.logData("instanceAsync - ".concat(n))},n.prototype.instance=function(n,t){return this._createInstance(n,t,!1)},n.prototype.instanceAsyncAll=function(n,t,i,r){for(var f={},h=0,u=!1,e=n.length,o=e;o--;){var s=n[o],c=function(n,i){u||(f[i]=n,++h===e&&t&&t(f))},l=function(n,t){u||(u=!0,r&&r(n,t))};this._createInstance(s.name,s.args,!0,c,l,i)}},n.prototype.registerInstance=function(n,t){this._factories[n]=new ot(n,{instance:t})},n.prototype.unregisterInstance=function(n){delete this._factories[n]},n.prototype.dispose=function(){for(var i,n,r=Object.keys(this._factories),t=0,u=r.length;t<u;t++)i=this._factories[r[t]],i&&(n=i.getInstance(),n&&n.dispose&&n.dispose()),this._factories={},this.isDisposed=!0},n.prototype.checkConsistency=function(){var n=this},n.prototype.getFactory=function(n,t){var i=t?this.config.factories:this._factories;return i[n.replace(w,"")]},n.prototype.canResolve=function(n){return!!this.getFactory(n)},n.prototype.addCatalog=function(n){for(var i,e=n.sources,u=n.factories,r=Object.keys(e),t=0,f=r.length;t<f;t++)i=r[t],this.config.sources[i]=e[i];for(r=Object.keys(u),t=0,f=r.length;t<f;t++)i=r[t],this.config.factories[i]=u[i];this._setupFactories(u)},n.prototype.downloadDependencyAsync=function(n,t){this.downloadDependency(n,t,!0)},n.prototype.downloadDependency=function(n,t,i){var r=this.getFactory(n);if(!r)throw"Factory ".concat(n," not found");r.downloadDependency(t,i)},n.prototype._createInstance=function(n,t,i,r,u,f){var e=this.getFactory(n),o;if(!e){if(o='Requested factory "'.concat(n,'" does not exist'),i)return u&&u(n,o),undefined;throw new Error(o);}if(w.test(n))return function(n){return e.create(n)};if(i)e.createAsync(t,r,u,f);else return e.create(t);return undefined},n.prototype._setupFactories=function(n){for(var t,u,r=Object.keys(n),i=0,f=r.length;i<f;i++)t=r[i],u=n[t],this._factories[t]=new ot(t,u,this.resolver,this)},n}();function pi(n){return n.resolver}function ei(n){return n._params}function oi(n){return n.factoryName}function si(n){return n._className}function wi(n){var h=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,c=/([^\s,]+)/g,e=oi(n),i=ei(n).map(function(n){return n.name}),o=u.resolveType(si(n)),r,f,t,s;if(!o){console.log("Could not resolve ".concat(e));return}if(r=l(o),f=!1,i.length!==r.length)f=!0;else for(t=0,s=i.length;t<s;t++)if(!i[t].toLowerCase().endsWith(r[t].toLowerCase())){f=!0;break}f&&(console.group("Mismatch with ".concat(e)),console.log("Config params: ".concat(i.join(","))),console.log("Ctor params  : ".concat(r.join(","))),console.groupEnd())}var b=function(){function n(){this._hash={};Array.prototype.push.apply(this,[])}return n.prototype.get=function(n){var t=this[n];return t&&t.value},n.prototype.add=function(n,t){this._hash[n]||(this._hash[n]=!0,Array.prototype.push.call(this,{key:n,value:t}))},n.prototype.append=function(n){for(var i,t=0,r=n.length;t<r;t++)i=n[t],this.add(i.key,i.value)},n}(),hi=function(){function t(n,t,i,r){this.sourceKey=n;this.sourceType=t;this.endpoint=i;this.logger=r;this._retryCount=0;this.oncomplete=function(){};this._startRequestWithRetry()}return t.prototype.send=function(){var i=this,n=this._retryCount===0?this.endpoint:"".concat(this.endpoint).concat(this.endpoint.includes("?")?"&":"?","retry=").concat(this._retryCount),t;this.sourceType!=="css"&&this.sourceType!=="Stylesheet"?this.sourceElement.src=n:this.sourceElement.href=n;u.logData("createReq - send: ".concat(n));t=document.getElementsByTagName("head")[0];t.appendChild(this.sourceElement)},t._getSourceElem=function(t){var i,r=n.addCrossOriginAttr;return t!=="css"&&t!=="Stylesheet"?(i=document.createElement("script"),i.type=i.async!==undefined?"text/javascript":"text/plain",i.async=!1,i.patch=function(){if(this.type==="text/plain"){var t=this.parentNode,n=document.createElement("script");r&&(n.crossOrigin="anonymous");n.type="text/javascript";n.src=this.src;t.replaceChild(n,this)}}):(i=document.createElement("link"),i.type="text/css",i.setAttribute("rel","stylesheet")),r&&(i.crossOrigin="anonymous"),i},t.prototype._startRequestWithRetry=function(){var r=this;this.sourceElement=t._getSourceElem(this.sourceType);this.sourceElement.onload=function(){return r._onstatechange()};this.sourceElement.onerror=function(){var t="WrappedRequest onerror [".concat(r._retryCount,"]: ").concat(r.endpoint),f=performance.getEntriesByType("resource").filter(function(n){return n.name&&n.name.startsWith(r.endpoint)&&typeof n.responseStatus!="undefined"}).map(function(n){return n.responseStatus}),e;f.length>r._retryCount&&(t+=", StatusCode:".concat(f[r._retryCount]));u.logData(t);r._retryCount===0&&r.logger&&r.logger.logCriticalError&&!i.isSlowPartner&&r.logger.logCriticalError(new Error(t),null,!0,!0);e=n.dynamicProperties.likelyBot||n.isTestTraffic||!navigator.userAgent;r._retryCount<i.maxDragonflyResourceRetry&&!e?(r._retryCount++,r._startRequestWithRetry(),r.send()):r._onstatechange()}},t.prototype._onstatechange=function(){var n=this.sourceElement;if(!this._done){this._done=!0;n.patch&&n.patch();this.oncomplete(this.sourceKey)}},t}(),ht=HighContrastMap.highContrastMode!=="none",ci=function(){function t(n,t){this.logger=t;this.requested=[];this._revKeyLookup={};this._perfMarks={};this._sources=n.sources}return t.prototype.resolve=function(n,t){this._fetchDependencies(n.sourceKey,this._getDependencyChain(n),t)},t.prototype.resolveBySourceKey=function(n,t){this._fetchDependencies(n,this._getDependencyChain(n),t)},t.prototype.isResolved=function(n){return ct(this._getDependencyChain(n)).length===0},t.prototype.setContainer=function(n){this._container=n},t.getRequest=function(n,t,i,r){return new hi(n,t,i,r)},t.prototype._getDepChainSK=function(t){var r=new b,i,u,f,e;if(!t)return r;if(i=this._sources[t],!i)throw"Could not resolve sourceKey: ".concat(t);for(u=i.sdkDependencies&&n.isSDK?i.sdkDependencies:i.dependencies,f=u&&u.length;f--;)e=this._getDepChainSK(u[f]),r.append(e);return r.add(t,i),r},t.prototype._getDepChainFact=function(n){var t=n.chain,r,u,i,f,e,o;if(!t||!(t instanceof b)){for(t=new b,r=n.parameters,u=r&&r.length;u--;)i=r[u],i.charAt(0)==="-"&&(i=i.substring(1)),f=this._container.getFactory(i,!0),f&&(e=this._getDepChainFact(f),t.append(e));o=this._getDepChainSK(n.sourceKey);t.append(o);n.chain=t}return t},t.prototype._getDependencyChain=function(n){return typeof n=="string"?this._getDepChainSK(n):this._getDepChainFact(n)},t.prototype._fetchDependencies=function(n,t,i){var r=ct(t),e,f,o,s;if(u.allowLogging){for(e=[],f=0,o=r.length;f<o;f++)s=ht&&r[f].highContrastEndpoint?r[f].highContrastEndpoint:r[f].endpoint,e.push(s);u.logData("fetchDependencies for ".concat(n,", dependencies: ").concat(e.length>0?e.join():"none"))}r.length>0?this._requestBundle(n,r,function(){i&&i()}):i&&i()},t.prototype._requestBundle=function(i,r,f){for(var s=this,l=function(o){var c=r[o],a=ht&&c.highContrastEndpoint?c.highContrastEndpoint:c.endpoint,l=vi(e._sources,e._revKeyLookup,a),v;u.logData("requestBundle - ".concat(c.sourceType,", source ").concat(a||""));var p=ai(i,l,c,r,f),y=function(n){p();s._perfMarks[n]===1&&(performance.measure("Dragonfly: "+n,n),s._perfMarks[n]=2)},w=c.pendingCallbacks;if(w)c.pendingCallbacks.push(y);else if(c.pendingCallbacks=[],a)e._perfMarks[l]||(performance.mark(l),e._perfMarks[l]=1),v=t.getRequest(l,c.sourceType,a,e.logger),u.logData("createRequest - endpoint : ".concat(a)),v.oncomplete=y,v.send(),(n.testHooksEnabled||n.testHooksAllowed||u.allowLogging)&&e.requested.push(h(h({},c),{sourcekey:l}));else throw new Error("Unrecognized source definition");},e=this,o=0,c=r.length;o<c;o++)l(o,c)},t}();function li(n){for(var t=n.length;t--;)if(!n[t].loaded)return!1;return!0}function ai(n,t,i,r,f){return function(){var e,o;if(i.loaded=!0,u.logData("onRequestComplete for ".concat(n,", sourceKey ").concat(t,", endpoint ").concat(i.endpoint)),li(r)&&f&&f(r),e=i.pendingCallbacks,e)for(o=void 0;o=e.pop();)o(t)}}function ct(n){for(var t,r=[],u={},i=0,f=n.length;i<f;i++)t=n.get(i),u.hasOwnProperty(t.endpoint)||(t.loaded||r.push(t),u[t.endpoint]=1);return r}function vi(n,t,i){var f=t[i],r,e,u,o;if(!f)for(r=0,e=Object.keys(n);r<e.length;r++)if(u=e[r],o=n[u],t[o.endpoint]=u,i===o.endpoint){f=u;break}return f}if(lt=function(){function n(n,r){var c=this,e,p,o,h,w;this._downloadedLabelImages={};this._downloadedBaseImages={};this._mapStyleDefinition=i.mapStyleDefinition;this._style=this._mapStyleDefinition&&this._getMapStyleName(r);var a=t.DeviceInfo,v=t.dragonflyCatalog,b=a.contrastMode,u=this._getTilePrimerConfig(b);if(this._parentDiv=typeof n=="string"?document.getElementById(n):n,this._parentDiv&&(this._width=this._parentDiv.offsetWidth,this._height=this._parentDiv.offsetHeight,this._tileSize=(u===null||u===void 0?void 0:u.tileSize)||256,l.updateLoadingView(this._width,this._height,this._tileSize),u&&(a.renderingMode===0?this._tileFormat=u.baseWithLabelUrl:(this._tileFormat=u.baseUrl,this._labelFormat=u.labelUrl),this._tileFormat))){var f=l.loadingView,s=f.zoom,y=Math.round(s);if(this._scale=1+(Math.pow(2,s)-Math.pow(2,y))/Math.pow(2,y),this._scaledTileSize=this._tileSize*this._scale,this._zoom=Math.max(3,s),this._zoomRounded=Math.round(this._zoom),i.dfKeysBeforeTilePrimer.length>0&&v){for(e=new Set,p=function(n){var t=v.sources[n];t.loaded||(e.add(n),t.pendingCallbacks.push(function(){e.delete(n);e.size===0&&c.loadTilePrimer(f)}))},o=0,h=i.dfKeysBeforeTilePrimer;o<h.length;o++)w=h[o],p(w);e.size===0&&this.loadTilePrimer(f);_w.setTimeout(function(){c.loadTilePrimer(f)},i.tilePrimerMaxDelay)}else this.loadTilePrimer(f)}}return n.prototype.unWrap=function(){var n;this._tileContainer&&((n=this._parentDiv)===null||n===void 0?void 0:n.removeChild(this._tileContainer),this._mapStyleDefinition=this._tileContainer=this._parentDiv=this._downloadedLabelImages=null)},n.prototype.loadTilePrimer=function(n){this._tilePrimerInitialized||(this._tilePrimerInitialized=!0,this._tilesLoaded=0,this._maxTileCoordinate=Math.pow(2,this._zoom)-1,this._centerTile=f.latlongToPixelXY(n.center[1],n.center[0],this._zoom,this._tileSize),this._centerTileX=this._centerTile.x/this._scaledTileSize,this._centerTileY=this._centerTile.y/this._scaledTileSize,this._centerOffset={x:-(this._centerTile.x%this._scaledTileSize),y:-(this._centerTile.y%this._scaledTileSize)+(this._scaledTileSize-this._tileSize)},this._centerOffset.x+=this._width/2,this._centerOffset.y+=this._height/2,this._tileContainer=document.createElement("div"),this._tileContainer.style.cssText="position:absolute;width:".concat(this._width,"px;").concat(this._isRtl()?"left":"right",":0px;z-index:1;"),this._baseTileContainer=document.createElement("div"),this._tileContainer.appendChild(this._baseTileContainer),this._labelFormat&&(this._labelTileContainer=document.createElement("div"),this._tileContainer.appendChild(this._labelTileContainer),this._labelTileContainer.style.cssText="z-index:1;position:relative"),this._parentDiv.appendChild(this._tileContainer),this._addTiles())},n.prototype._getMapStyleName=function(n){var t,i;return this._mapStyleDefinition&&(t=this._mapStyleDefinition.defaultStyle,n&&(i=this._mapStyleDefinition.styles.find(function(t){return t.styleKey===n||t.name===n}),i&&(t=i.name))),t},n.prototype._getTilePrimerConfig=function(n){var f=this,i,r,t=(i=this._mapStyleDefinition)===null||i===void 0?void 0:i.styles.find(function(n){return n.name===f._style}),u;return t&&(n==="none"?r=t.primer:t.contrast&&(u=t.contrast.find(function(t){return t.mode===n}),u&&(r=u.primer))),r},n.prototype._addTile=function(t,r,u,f){var e=this,o=document.createElement("img"),h,s;o.style.cssText="transform-origin:bottom left;transform:scale(".concat(this._scale,");\n            ").concat(i.tileBoundary?"outline:1px solid #555":"",";position:absolute;\n            top:").concat(u.y,"px;left:").concat(u.x,"px");s=function(n){n&&(o.src=n);o.onload=o.onerror=o.onabort=null;++e._tilesLoaded;window.clearTimeout(h);e._downloadedLabelImages!==null&&(f?e._downloadedBaseImages[r]?e._labelTileContainer.appendChild(o):e._downloadedLabelImages[r]=o:(e._baseTileContainer.appendChild(o),e._downloadedBaseImages[r]=!0,e._downloadedLabelImages[r]&&(e._labelTileContainer.appendChild(e._downloadedLabelImages[r]),delete e._downloadedLabelImages[r],delete e._downloadedBaseImages[r])));e._tilesLoaded===e._tileCount&&(e.tilePrimerLoadTime=performance.now())};h=setTimeout(function(){return s()},n.C_TileTimeout);o.onload=function(){s()};o.onerror=o.onabort=function(){s()};o.src=t.replace("raster://","https://")},n.prototype._getImageUrl=function(n,t){return n.replace("{quadkey}",t)},n.prototype._addTiles=function(){var i,t,r;for(this._tileX=this._centerTileX,this._tileY=this._centerTileY,this._offset=this._centerOffset,this._direction=0,this._movesLeft=1,this._step=1,i=0,this._tileCount=0;i<n.C_maxAttempts&&this._tileCount<n.C_maxTiles;i++)this._isVisible(this._offset)&&(t=this._getQuadKey(),t&&(r=!!this._labelFormat&&this._isLabelVisible(this._offset),this._addTile(this._getImageUrl(this._tileFormat,t),t,this._offset,!1),r&&this._addTile(this._getImageUrl(this._labelFormat,t),t,this._offset,!0),this._tileCount++)),this._incrementSpiral()},n.prototype._getQuadKey=function(){var i,n,t,r;if(this._tileY<0||this._tileY>this._maxTileCoordinate)return null;for(i="",n=this._zoomRounded;n>0;n--)t=0,r=1<<n-1,(this._tileX&r)!=0&&t++,(this._tileY&r)!=0&&(t+=2),i+=t;return i},n.prototype._isVisible=function(n){return n.y>-this._scaledTileSize&&n.y<this._height&&n.x>-this._scaledTileSize&&n.x<this._width},n.prototype._isLabelVisible=function(n){var t=this._scaledTileSize*.4;return n.y>-this._scaledTileSize+t&&n.y<this._height-t&&n.x>-this._scaledTileSize+t&&n.x<this._width-t},n.prototype._incrementSpiral=function(){switch(this._direction){case 0:this._tileX++;this._offset.x+=this._scaledTileSize;break;case 1:this._tileY--;this._offset.y-=this._scaledTileSize;break;case 2:this._tileX--;this._offset.x-=this._scaledTileSize;break;case 3:this._tileY++;this._offset.y+=this._scaledTileSize}this._tileX>this._maxTileCoordinate?this._tileX=0:this._tileX<0&&(this._tileX=this._maxTileCoordinate);this._movesLeft--;this._movesLeft<=0&&(this._movesLeft=Math.floor(this._step+=.5),++this._direction>3&&(this._direction=0))},n.prototype._isRtl=function(){return typeof _G=="object"&&_G&&_G.RTL},n.C_maxTiles=48,n.C_maxAttempts=128,n.C_TileTimeout=5e3,n}(),r.__assign=h,r.__extends=rt,r.__spreadArray=ut,r.BootstrapView=l,r.ExternalPromise=a,r.InstrumentationBase=ft,r.LocalStorageCache=c,r.MapCookies=v,r.MapMath=f,r.TilePrimer=lt,r.TimeoutWrapper=o,r.VectorMath=e,t.logger=new ni,function(){function r(){var u=i.mapStyleDefinition,e,r,f,o,h,s;u&&!i.disStylePrefetch&&(e=n.dynamicProperties.style||u.defaultStyle,r=u.styles.find(function(n){return n.styleKey===e||n.name===e}),r&&(f=t.DeviceInfo,o=f.renderingMode+"",r.url&&r.style&&(f.contrastMode!=="none"||r.rm!==o)&&u.styles.forEach(function(n){return n.style=null}),u.styles.forEach(function(n){return n.style&&n.url?n.url=null:null}),r.url&&!r.style&&(h=r.url.replace("{renderingMode}",o).replace("{contrastMode}",f.contrastMode+""),s={},u.addCredentials&&(s.credentials="include"),fetch(h,s).then(function(n){return n.json()}).then(function(n){return r.style=n}).catch(function(){}))))}r()}(at||(at={})),d=t.dragonflyCatalog,y=r.dependencyResolver=new ci(d,t.logger),mapControlViewData.isSDK||(vt=t.globalContainer=new st(d,y)),yt=t.DeviceInfo.cpuCores/2,pt=Math.min(i.workerCount,yt)||1,y.resolveBySourceKey(i.atlasEntry,function(){atlas.setWorkerCount(pt);t.DeviceInfo.renderingMode!==2&&atlas.prewarm();var n=atlas._enableRTLTextPlugin;typeof n=="function"&&n()}),mapControlViewData.callbackOnLoad&&mapControlViewData.dragonflySourceKeys){var wt=function(){var n=s[mapControlViewData.callbackOnLoad];n?n():o.setTimeout(wt,100)},bt=[],yi=function(n){var t=new a;bt.push(t);y.resolveBySourceKey(n,function(){t.resolve()})};for(p=0,g=mapControlViewData.dragonflySourceKeys;p<g.length;p++)kt=g[p],yi(kt);Promise.all(bt).then(function(){o.setTimeout(wt,0)})}else mapControlViewData.autoCreate&&(nt=document.getElementById("b_header"),nt&&nt.classList.add("bm_oneMap"),tt=document.getElementsByTagName("body")[0],tt&&((k=tt.classList)===null||k===void 0?void 0:k[n.enableDarkMode?"add":"remove"]("b_dark")),it=document.getElementsByTagName("html")[0],it&&(it.style.overflowY="hidden"),dt=function(n){n.getAzureMapFirstIdle().then(function(){_w.si_PP(Date.now());sj_evt.fire("maps:shellLoaded")});t.mapShell=n},vt.instanceAsync("MapShell",dt,{mapContainerElementOrId:"mapContainer",shellContainerElementOrId:"container"}))}catch(gt){if(t&&t.logger)t.logger.logCriticalError(gt);else throw gt;}}.call(window)